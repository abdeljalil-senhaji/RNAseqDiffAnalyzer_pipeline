rule getnames:
    input:
        counting = "{prefix}/{sample}/{sample}_{fungi_parasite}_count.txt"
    output:
        count = "{prefix}/{sample}/{sample}_{fungi_parasite}_NameVirFunPar.txt"
    log:
        "{prefix}/{sample}/logs/{sample}_NameVirFunPar.log"
    params:
        script = config["script_pip"]["getnames"],
        vir_options = config["getnames"]["OPTIONS"],
        sqlite = config["general_informations"]["SQLITE"]
    run:
        if (os.stat(input.counting).st_size == 0):
          shell("touch {output.count}")
        else:
          shell('python3 {params.script} -i {input.counting} -o {output.count} -n {params.sqlite} {params.vir_options} | tee -a {log} ')
